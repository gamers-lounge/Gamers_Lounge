this["wc-bookings-availability"]=this["wc-bookings-availability"]||{},this["wc-bookings-availability"]["bookings-schedule-frontend"]=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=75)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t,n){e.exports=n(37)()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.moment}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"p",function(){return b}),n.d(t,"o",function(){return p}),n.d(t,"j",function(){return m}),n.d(t,"i",function(){return v}),n.d(t,"f",function(){return y}),n.d(t,"k",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"m",function(){return O}),n.d(t,"g",function(){return w}),n.d(t,"n",function(){return _}),n.d(t,"l",function(){return E}),n.d(t,"e",function(){return j}),n.d(t,"q",function(){return k});var o=n(3),r=n.n(o),a=(n(30),n(2)),i={TODAY:"today",THIS_WEEK:"this-week",THIS_MONTH:"this-month",CUSTOM:"custom"},c={LOCAL_TO_SERVER:"LOCAL_TO_SERVER",SERVER_TO_LOCAL:"SERVER_TO_LOCAL"},s={TODAY:Object(a.__)("Today","woocommerce-bookings-availability"),THIS_WEEK:Object(a.__)("This week","woocommerce-bookings-availability"),THIS_MONTH:Object(a.__)("This month","woocommerce-bookings-availability")},l=[{value:i.TODAY,label:s.TODAY},{value:i.THIS_WEEK,label:s.THIS_WEEK},{value:i.THIS_MONTH,label:s.THIS_MONTH}],u=[{value:i.THIS_WEEK,label:s.THIS_WEEK},{value:i.THIS_MONTH,label:s.THIS_MONTH}],f="YYYY-MM-DD[T]HH:mm:ss";function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=r()().startOf("day").toDate(),a=r()().startOf("day").toDate(),c=1;if(i.THIS_MONTH===e){var s=new Date;o.setMonth(s.getMonth()+t),o.setDate(n),a=r()(o).endOf("month").toDate()}var l=o;if(i.THIS_WEEK===e){c=7;var u=parseInt(wc_bookings_availability_args.start_of_week,10),f=r()().day(c*t+u).startOf("day");o<f&&(o=f.toDate()),a=r()(o).endOf("week").toDate(),l=r()(o).startOf("week").toDate()}if(i.TODAY===e){var d=c*t,b=c*(t+1)-1;o.setDate(o.getDate()+d),a.setDate(a.getDate()+b)}return{minDisplayDate:l,minDate:o,maxDate:a}}function b(e){return i.CUSTOM===e}function p(e){var t=d(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.minDisplayDate,o=t.minDate,a=t.maxDate;return i.THIS_MONTH===e?r()(o).format("MMMM YYYY"):o.getTime()===a.getTime()?r()(o).format("MMM DD, YYYY"):r()(n).format("MMM DD - ")+r()(a).format("MMM DD, YYYY")}function m(e){switch(e){case i.TODAY:return s.TODAY;case i.THIS_MONTH:return s.THIS_MONTH;case i.THIS_WEEK:default:return s.THIS_WEEK}}function v(e){var t=d(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1);return y(t.minDate,t.maxDate)}function y(e,t){return{minDate:r()(e).format(f),maxDate:r()(t).endOf("day").format(f)}}function h(e){return r()().day(e).format("ddd")}function g(e,t){switch(e){case i.THIS_WEEK:return function(e){var t=r()(new Date).add(7*e,"day"),n=t.isoWeekday(),o=parseInt(wc_bookings_availability_args.start_of_week,10),a=0===o?7:o,i=null;i=n>a?r()(t).subtract(n-a,"day"):n<a?r()(t).subtract(7-(a-n),"day"):t;var c=r()(i).add(6,"day");return{minDate:i.startOf("day"),maxDate:c.endOf("day")}}(t);case i.THIS_MONTH:default:return function(e){var t=r()(new Date).add(e,"month"),n=parseInt(wc_bookings_availability_args.start_of_week,10),o=0===n?7:n,a=t.startOf("month"),i=(7+(a.isoWeekday()-o)%7)%7,c=r()(a).subtract(i,"day"),s=t.endOf("month"),l=(7+(s.isoWeekday()-o)%7)%7,u=r()(s).add(6-l,"day");return{minDate:c.startOf("day"),maxDate:u.endOf("day"),currentMonth:t}}(t)}}function O(e){return r()(e).format("dddd, MMMM DD")}function w(e,t){var n,o=e.duration,i=e.durationUnit,c=r()(t),s=r()(t).add(o,i),l=c.format("Do"),u=c.format("MMMM"),f=s.format("Do"),d=s.format("MMMM");switch(i){case"minute":n="".concat(c.format("h:mma"),"-").concat(s.format("h:mma")," (").concat(T(t),")");break;case"hour":n="".concat(c.format("ha"),"-").concat(s.format("ha")," (").concat(T(t),")");break;case"night":case"day":var b=Object(a.sprintf)(Object(a._n)("%d ".concat(i),"%d ".concat(i,"s"),o*e.min_duration,"woocommerce-bookings-availability"),o*e.min_duration);if("customer"===e.duration_type&&e.min_duration!==e.max_duration){b=Object(a.sprintf)(Object(a.__)("%d-%d ".concat(i,"s"),"woocommerce-bookings-availability"),o*e.min_duration,o*e.max_duration),n="".concat(b);break}n=1===o?"".concat(b):u===d?"".concat(b,", ").concat(u," ").concat(l," - ").concat(f," "):"".concat(b,", ").concat(u," ").concat(l," - ").concat(d," ").concat(f," ");break;case"month":var p=Object(a.sprintf)(Object(a._n)("%d month","%d months",o,"woocommerce-bookings-availability"),o),m=c.startOf("month"),v=s.endOf("month");n=1===o?"".concat(p,", ").concat(m.format("MMMM D")," - ").concat(v.format("D")):"".concat(p,", ").concat(m.format("MMMM D")," - ").concat(v.format("MMMM D"))}return n}function _(e){switch(e){case i.THIS_WEEK:return Object(a.__)("No available times this week.","woocommerce-bookings-availability");case i.THIS_MONTH:return Object(a.__)("No available times this month.","woocommerce-bookings-availability");case i.TODAY:default:return Object(a.__)("No available times this day.","woocommerce-bookings-availability")}}function E(e){switch(e){case i.THIS_WEEK:return Object(a.__)("We weren't able to load times for this week.","woocommerce-bookings-availability");case i.THIS_MONTH:return Object(a.__)("We weren't able to load times for this month.","woocommerce-bookings-availability");case i.TODAY:default:return Object(a.__)("We weren't able to load times for this day.","woocommerce-bookings-availability")}}function j(e,t){var n=function(e){if(!wc_bookings_availability_args.timezone_conversion)return 0;var t=r()(e,f),n=t.utcOffset();t.tz(wc_bookings_availability_args.server_timezone);var o=t.utcOffset();return(n-o)/60}(e),o=r.a.tz(e,f,wc_bookings_availability_args.server_timezone);switch(t){case c.SERVER_TO_LOCAL:o.add(n,"hours");break;case c.LOCAL_TO_SERVER:o.subtract(n,"hours");break;default:throw"Invalid convertDirection option."}return o}function k(e,t){return wc_bookings_availability_args.timezone_conversion?j(e,t).format(f):e}function T(e){return wc_bookings_availability_args.timezone_conversion?r.a.tz(e,f,r.a.tz.guess()).format("z"):r.a.tz(e,f,wc_bookings_availability_args.server_timezone).format("z")}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){var o=n(35),r=n(4);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?r(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var o=n(36);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},,function(e,t,n){"use strict";var o=n(0),r=n(5),a=function(){return Object(o.createElement)(r.Icon,{icon:Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(o.createElement)("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),Object(o.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"}))})},i=function(){return Object(o.createElement)(r.Icon,{icon:Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(o.createElement)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),Object(o.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"}))})},c=function(){return Object(o.createElement)(r.Icon,{icon:Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(o.createElement)("path",{fill:"#1E8CBE",d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))})},s=function(){return Object(o.createElement)(r.Icon,{icon:Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(o.createElement)("path",{fill:"#6C7781",d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))})},l=function(){return Object(o.createElement)(r.Icon,{icon:Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(o.createElement)("path",{fill:"#1E8CBE",d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))})},u=function(){return Object(o.createElement)(r.Icon,{icon:Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(o.createElement)("path",{fill:"#6C7781",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))})},f=function(){return Object(o.createElement)(r.Icon,{icon:Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(o.createElement)("path",{d:"M22 12l-4-4v3H3v2h15v3z"}),Object(o.createElement)("path",{d:"M0 0h24v24H0z",fill:"none"}))})},d=function(){return Object(o.createElement)(r.Icon,{icon:Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(o.createElement)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),Object(o.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}))})};n.d(t,"e",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return f}),n.d(t,"d",function(){return d})},function(e,t,n){var o=n(6);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return d});var o=n(15),r=n.n(o),a=n(2),i=n(7),c={ALL_PRODUCTS:"all-products",PRODUCTS_SCREEN:"products-screen",CATEGORIES_SCREEN:"categories-screen",RESOURCES_SCREEN:"resources-screen"},s=[{value:c.ALL_PRODUCTS,label:Object(a.__)("All bookable products","woocommerce-bookings-availability")},{value:c.PRODUCTS_SCREEN,label:Object(a.__)("Specific bookable products","woocommerce-bookings-availability")},{value:c.CATEGORIES_SCREEN,label:Object(a.__)("Specific categories","woocommerce-bookings-availability")},{value:c.RESOURCES_SCREEN,label:Object(a.__)("Specific resources","woocommerce-bookings-availability")}],l=8,u={common:{categoryIds:{type:"string",default:"",source:"attribute",selector:".wc-bookings-availability-main-container",attribute:"data-category-ids"},currentScreen:{type:"string",default:""},productIds:{type:"string",default:"",source:"attribute",selector:".wc-bookings-availability-main-container",attribute:"data-product-ids"},resourceIds:{type:"string",default:"",source:"attribute",selector:".wc-bookings-availability-main-container",attribute:"data-resource-ids"},showDateNav:{type:"boolean",default:!0,attribute:"data-show-date-nav"}},calendar:{dateRangeType:{type:"string",default:i.b.THIS_MONTH,attribute:"data-date-range-type"},showSoldOut:{type:"boolean",default:!0,attribute:"data-show-sold-out"}},schedule:{dateRangeType:{type:"string",default:i.b.TODAY,attribute:"data-date-range-type"},infiniteScrollEnabled:{type:"boolean",default:!0,attribute:"data-infinite-scroll-enabled"},maxDate:{type:"date",default:null,source:"attribute",selector:".wc-bookings-availability-container",attribute:"data-max-date"},minDate:{type:"date",default:null,source:"attribute",selector:".wc-bookings-availability-container",attribute:"data-min-date"},slotsPerPage:{type:"number",default:l,attribute:"data-slots-per-page"}}};function f(e){return r()({},u.common,u[e])}function d(e,t){for(var n=f(e),o={},r=Object.keys(t),a=0;a<r.length;a++){var i=r[a];switch(n[i].type){case"boolean":o[i]="true"===t[i];break;case"number":o[i]=parseInt(t[i]);break;default:o[i]=t[i]}}return o}},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.apiFetch}()},,function(e,t,n){var o,r,a={},i=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),c=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var o=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),s=null,l=0,u=[],f=n(41);function d(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=a[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(h(o.parts[i],t))}else{var c=[];for(i=0;i<o.parts.length;i++)c.push(h(o.parts[i],t));a[o.id]={id:o.id,refs:1,parts:c}}}}function b(e,t){for(var n=[],o={},r=0;r<e.length;r++){var a=e[r],i=t.base?a[0]+t.base:a[0],c={css:a[1],media:a[2],sourceMap:a[3]};o[i]?o[i].parts.push(c):n.push(o[i]={id:i,parts:[c]})}return n}function p(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(e.insertAt.before,n);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return n.nc}();o&&(e.attrs.nonce=o)}return y(t,e.attrs),p(e,t),t}function y(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function h(e,t){var n,o,r,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var i=l++;n=s||(s=v(t)),o=w.bind(null,n,i,!1),r=w.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),p(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(o=f(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([o],{type:"text/css"}),c=e.href;e.href=URL.createObjectURL(i),c&&URL.revokeObjectURL(c)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=b(e,t);return d(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var i=n[r];(c=a[i.id]).refs--,o.push(c)}e&&d(b(e,t),t);for(r=0;r<o.length;r++){var c;if(0===(c=o[r]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete a[c.id]}}}};var g,O=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function w(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=O(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},,,function(e,t,n){"use strict";var o=n(16),r=n.n(o),a=n(8),i=n.n(a),c=n(9),s=n.n(c),l=n(10),u=n.n(l),f=n(11),d=n.n(f),b=n(12),p=n.n(b),m=n(4),v=n.n(m),y=n(6),h=n.n(y),g=n(0),O=n(1),w=n.n(O),_=n(28),E=(n(32),n(14)),j=n(7),k=function(e){function t(e){var n;return i()(this,t),n=u()(this,d()(t).call(this,e)),h()(v()(v()(n)),"gotoPrev",function(e){e.preventDefault(),n.setState({offset:parseInt(n.state.offset,10)-1})}),h()(v()(v()(n)),"gotoNext",function(e){e.preventDefault(),n.setState({offset:parseInt(n.state.offset,10)+1})}),h()(v()(v()(n)),"gotoCurrent",function(e){e.preventDefault(),n.setState({offset:0})}),h()(v()(v()(n)),"onDummyClick",function(e){e.preventDefault()}),n.state={offset:0},n}return p()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e){this.props.dateRangeType!==e.dateRangeType&&this.setState({offset:0})}},{key:"render",value:function(){var e=this.props,t=e.dateRangeType,n=e.showDateNav,o=this.state.offset,a=Object(j.o)(t,o),i=Object(j.j)(t);return Object(g.createElement)("div",null,Object(g.createElement)("div",{className:"wc-bookings-availability-header"},Object(g.createElement)("div",{className:"wc-bookings-availability-date"},a),!0===n||"true"===n?Object(g.createElement)("div",{className:"wc-bookings-availability-navigation"},o<=0?Object(g.createElement)("a",{href:"#",className:"wc-bookings-availability-navigation-prev wc-bookings-availability-navigation-disabled",onClick:this.onDummyClick},Object(g.createElement)(E.h,null)):Object(g.createElement)("a",{href:"#",className:"wc-bookings-availability-navigation-prev",onClick:this.gotoPrev}," ",Object(g.createElement)(E.h,null)," "),Object(g.createElement)("a",{href:"#",className:"wc-bookings-availability-navigation-current",onClick:this.gotoCurrent},i),Object(g.createElement)("a",{href:"#",className:"wc-bookings-availability-navigation-next",onClick:this.gotoNext},Object(g.createElement)(E.h,null))):""),Object(g.createElement)(_.b,r()({},this.props,{offset:o})))}}]),t}(g.Component);k.propTypes={dateRangeType:w.a.string,showDateNav:w.a.bool},t.a=k},,,function(e,t,n){"use strict";var o=n(8),r=n.n(o),a=n(9),i=n.n(a),c=n(10),s=n.n(c),l=n(11),u=n.n(l),f=n(12),d=n.n(f),b=n(4),p=n.n(b),m=n(6),v=n.n(m),y=n(0),h=n(19),g=n(18),O=n(1),w=n(2),_=n(3),E=n.n(_),j=n(20),k=n.n(j),T=n(7),S=function(e){function t(){var e;return r()(this,t),e=s()(this,u()(t).apply(this,arguments)),v()(p()(p()(e)),"onClickBook",function(){var t=e.props.data,n=t.serverDate,o=t.productId,r=t.available,a=e.props,i=a.product,c=a.product.permalink,s=e.state.available,l=r&&s&&!(i.has_persons||i.has_resources||"customer"===i.duration_type);e.setState({loading:!0}),l?k()({url:wc_bookings_availability_args.ajax_url+"=wc_bookings_add_booking_to_cart&product_id="+o+"&date="+encodeURIComponent(n)+"&security="+wc_bookings_availability_args.nonces.add_booking_to_cart}).then(function(t){t.booked?(e.setState({available:!1,loading:!1}),window.location.href=wc_bookings_availability_args.checkout_url):window.location.href=t.link}):window.location.href=c}),e.state={available:!0,loading:!1},e}return d()(t,e),i()(t,[{key:"render",value:function(){var e=this.props,t=e.isPreview,n=e.addSubheader,o=e.product,r=o.name,a=this.props.data,i=a.date,c=a.placeholder,s=a.available,l=this.state,u=l.available,f=l.loading,d=o.price_html,b=s&&u,p="wc-bookings-availability-item";c&&(p+=" wc-bookings-availability-item-is-placeholder");var m=o.has_persons||o.has_resources||"customer"===o.duration_type?Object(w.__)("Select options","woocommerce-bookings-availability"):Object(w.__)("Book now","woocommerce-bookings-availability"),v="wp-block-button__link wc-bookings-availability-book-button";return b||(m=Object(w.__)("Sold out","woocommerce-bookings-availability"),v+=" wc-bookings-availability-item-sold-out"),Object(y.createElement)("li",{className:p},n&&Object(y.createElement)("div",{className:"wc-bookings-availability-item-subheader"},Object(y.createElement)("span",null,Object(T.m)(i))),Object(y.createElement)("div",{className:"wc-bookings-availability-item-body"},Object(y.createElement)("div",{className:"wc-bookings-availability-item-information"},Object(y.createElement)("div",null,Object(y.createElement)("h3",null,Object(y.createElement)("a",{href:o.permalink},r)),Object(y.createElement)("div",null,Object(y.createElement)("span",null,Object(T.g)(o,i))),Object(y.createElement)("div",{className:"wc-bookings-availability-item-price",dangerouslySetInnerHTML:{__html:d}}))),Object(y.createElement)("div",{className:"wp-block-button"},t||!b?Object(y.createElement)("span",{className:v},m):Object(y.createElement)("button",{onClick:this.onClickBook,disabled:f,className:v},m))))}}]),t}(y.Component);S.propTypes={data:O.PropTypes.shape({booked:O.PropTypes.number,available:O.PropTypes.number,resources:O.PropTypes.object,productId:O.PropTypes.number,title:O.PropTypes.string,date:O.PropTypes.date,serverDate:O.PropTypes.string,placeholder:O.PropTypes.bool,duration:O.PropTypes.number,durationUnit:O.PropTypes.string}).isRequired,isPreview:O.PropTypes.bool,addSubheader:O.PropTypes.bool,product:O.PropTypes.object.isRequired},S.defaultProps={addSubheader:!1};var M=S,D=function(e){function t(){return r()(this,t),s()(this,u()(t).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){var e=this.props.date;return Object(y.createElement)("li",{className:"wc-bookings-availability-item"},Object(y.createElement)("div",{className:"wc-bookings-availability-item-subheader"},Object(y.createElement)("span",null,Object(T.m)(e)," ")),Object(y.createElement)("div",{className:"wc-bookings-availability-item-body"},Object(y.createElement)("div",{className:"wc-bookings-availability-item-empty"},Object(T.n)("today"))))}}]),t}(y.Component),x=D;D.propTypes={date:O.PropTypes.object};var P=n(17),R=(n(39),function(e){function t(){var e;return r()(this,t),e=s()(this,u()(t).apply(this,arguments)),v()(p()(p()(e)),"loadMoreClick",function(t){t.preventDefault(),(0,e.props.loadMore)()}),e.onScroll=e.onScroll.bind(p()(p()(e))),e.scrollTriggerRef=Object(y.createRef)(),e}return d()(t,e),i()(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!0)}},{key:"onScroll",value:function(){var e=this.props.loadMore;this.scrollTriggerIsInViewport()&&e()}},{key:"scrollTriggerIsInViewport",value:function(){var e=this.scrollTriggerRef.current;if(null===e)return!1;var t=e.getBoundingClientRect().top;return t>=0&&t<=window.innerHeight}},{key:"render",value:function(){var e=this.props,t=e.remainingRecords;return e.infiniteScrollEnabled?Object(y.createElement)("div",{className:"wc-bookings-availability-scroll-trigger",ref:this.scrollTriggerRef}):Object(y.createElement)("div",{className:"wc-bookings-availability-load-more-listings"},Object(w.sprintf)(Object(w._n)("%s additional listing.","%s additional listings.",t,"woocommerce-bookings-availability"),t)," ",Object(y.createElement)("a",{onClick:this.loadMoreClick,href:"#"}," ",Object(w.__)("Load more...","woocommerce-bookings-availability")))}}]),t}(y.Component));R.propTypes={remainingRecords:O.PropTypes.number.isRequired,infiniteScrollEnabled:O.PropTypes.bool.isRequired,loadMore:O.PropTypes.func.isRequired};var I=R;n.d(t,"a",function(){return C});var C=function(e){function t(e){var n;return r()(this,t),n=s()(this,u()(t).call(this,e)),v()(p()(p()(n)),"loadMoreSlots",function(){var e=n.props,t=e.availabilityQuery,o=e.nextAvailabilityPage;e.isLoading?n.setState({pendingLoadMore:!0}):o(t)}),v()(p()(p()(n)),"reloadWindow",function(){window.location.reload()}),n.state={pendingLoadMore:!1},n}return d()(t,e),i()(t,[{key:"maybeLoadMoreSlots",value:function(){this.state.pendingLoadMore&&this.loadMoreSlots()}},{key:"render",value:function(){var e=this.props,t=e.isError,n=e.dateRangeType;return this.maybeLoadMoreSlots(),t?Object(y.createElement)("div",{className:"woocommerce-error notice notice-error"},Object(T.l)(n)," ",Object(y.createElement)("a",{href:"#",onClick:this.reloadWindow},Object(w.__)("Try again","woocommerce-bookings-availability"))):this.renderEvents()}},{key:"renderEvents",value:function(){var e=this.props,t=e.availability,n=e.isPreview,o=e.isRequesting,r=e.products,a=e.infiniteScrollEnabled,i=e.remainingRecords,c=e.isLastPage,s=e.slotsPerPage,l=e.dateRangeType,u=e.availabilityQuery,f=u.minDate,d=u.maxDate,b=u.page,p=null,m=t,v=t.slice(0),h=[],g=a||0===i?P.a:Math.min(s,i),O={name:"placeholder",duration:1,duration_unit:"day"};if(o){for(var w=0;w<g;w++)v.push({title:"placeholder",date:new Date(f),cost:0,productId:0,available:0,placeholder:!0});m=v}var _=0;if(m.forEach(function(e){var t=e.date,o=r[e.productId]||O,a=E()(p),i=!1;if(!p||a.isBefore(t,"day")){for(a.add(1,"day");a.isBefore(t,"day");)h.push(Object(y.createElement)(x,{key:_,date:a.toDate()})),_++,a.add(1,"day");i=!0}p=t,h.push(Object(y.createElement)(M,{isPreview:n,key:_,data:e,product:o,addSubheader:i})),_++}),!(1===b&&o)&&0===i&&E()(p).isBefore(d,"day"))for(var j=E()(p);j.isBefore(d,"day");)j.add(1,"day"),h.push(Object(y.createElement)(x,{key:_,date:j.toDate()})),_++;return m.length?Object(y.createElement)(y.Fragment,null,Object(y.createElement)("ul",{className:"wc-bookings-availability-event-table"},h),!c&&Object(y.createElement)(I,{infiniteScrollEnabled:a,remainingRecords:i,loadMore:this.loadMoreSlots})):Object(y.createElement)("div",{className:"woocommerce-error notice notice-empty"},Object(T.n)(l))}}]),t}(y.Component);C.defaultProps={productIds:[],categoryIds:[],offset:0},C.propTypes={availability:O.PropTypes.array.isRequired,isPreview:O.PropTypes.bool,isRequesting:O.PropTypes.bool,products:O.PropTypes.oneOfType([O.PropTypes.object.isRequired,O.PropTypes.array.isRequired]),infiniteScrollEnabled:O.PropTypes.bool.isRequired,remainingRecords:O.PropTypes.number.isRequired,isLastPage:O.PropTypes.bool,slotsPerPage:O.PropTypes.number,dateRangeType:O.PropTypes.string,availabilityQuery:O.PropTypes.object.isRequired,nextAvailabilityPage:O.PropTypes.func,isError:O.PropTypes.bool,isLoading:O.PropTypes.bool};t.b=Object(g.compose)(Object(h.withSelect)(function(e,t){var n=e("woocommerce-bookings-availability"),o=n.getAvailability,r=n.getAvailabilityTotalRecords,a=n.getPage,i=n.isGetAvailabilityError,c=n.isGetAvailabilityRequesting,s=n.getProducts,l=n.isGetProductsRequesting,u=n.isGetProductsError,f=t.productIds,d=t.categoryIds,b=t.resourceIds,p=t.dateRangeType,m=t.offset,v=t.infiniteScrollEnabled,y=t.slotsPerPage,h=1,g=t.minDate,O=t.maxDate;if(!Object(T.p)(p)){if(0===m&&"this-month"===p)h=(new Date).getDate();var w=Object(T.i)(p,m,h);g=w.minDate,O=w.maxDate}var _={minDate:g,maxDate:O,productIds:f,categoryIds:d,resourceIds:b},E={productIds:f};v||(_.pageSize=y);var j=a(_);_.page=j;var k=s(E),S=o(_),M=r(_),D=i(_)||u(),x=c(_)||l(),P=M-S.length;return{availability:S,isError:D,isRequesting:x,availabilityQuery:_,isLastPage:0===P,products:k,remainingRecords:P}}),Object(h.withDispatch)(function(e){return{nextAvailabilityPage:e("woocommerce-bookings-availability").nextAvailabilityPage,resetPageNumber:e("woocommerce-bookings-availability").resetPageNumber}}))(C)},,function(e,t){!function(){e.exports=this["moment-timezone"]}()},,function(e,t,n){var o=n(42);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(22)(o,r);o.locals&&(e.exports=o.locals)},,,function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t,n){"use strict";var o=n(38);function r(){}e.exports=function(){function e(e,t,n,r,a,i){if(i!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var o=n(40);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(22)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:o+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(76)},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(25),a=n(17),i=document.getElementsByClassName("wc-bookings-availability-main-events-container"),c=!0,s=!1,l=void 0;try{for(var u,f=i[Symbol.iterator]();!(c=(u=f.next()).done);c=!0){var d=u.value,b=Object(a.c)("schedule",d.dataset);Object(o.render)(Object(o.createElement)(r.a,b),d)}}catch(e){s=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(s)throw l}}}]);
//# sourceMappingURL=bookings-schedule-frontend.js.map